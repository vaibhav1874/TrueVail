<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
</head>
<body>
    <h1>Testing TruthLens API</h1>
    <textarea id="testText" placeholder="Enter text to analyze" rows="5" cols="60">This is a sample news article that claims aliens have landed in downtown New York. Multiple witnesses reported seeing strange lights in the sky and metallic objects moving erratically. Local authorities have not confirmed these reports but emergency services have been deployed to the area.</textarea>
    <br><br>
    <button onclick="testApi()">Test Fake News Analysis</button>
    <button onclick="testPrivacy()">Test Privacy Analysis</button>
    <br><br>
    <div id="result" style="background: #f0f0f0; padding: 10px; border: 1px solid #ccc;"></div>

    <script>
        async function testApi() {
            const text = document.getElementById('testText').value;
            const resultDiv = document.getElementById('result');
            
            resultDiv.innerHTML = 'Analyzing...';
            
            try {
                const response = await fetch('http://127.0.0.1:5000/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ text: text })
                });
                
                const data = await response.json();
                resultDiv.innerHTML = '<h3>Response:</h3><pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                resultDiv.innerHTML = '<h3>Error:</h3><p>' + error.message + '</p>';
            }
        }

        async function testPrivacy() {
            const text = document.getElementById('testText').value;
            const resultDiv = document.getElementById('result');
            
            resultDiv.innerHTML = 'Checking privacy...';
            
            try {
                const response = await fetch('http://127.0.0.1:5000/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ text: text })
                });
                
                const data = await response.json();
                resultDiv.innerHTML = '<h3>Response:</h3><pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                resultDiv.innerHTML = '<h3>Error:</h3><p>' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>